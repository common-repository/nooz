{"version":3,"sources":["_admin.contextual-help.js","_admin.release.js","_admin.repeat.js"],"names":["jQuery","$","qs","each","location","search","substr","split","i","v","p","tab","removeClass","addClass","on","e","preventDefault","this","data","trigger","is","meta_box_el","showPreview","location_val","val","attr","html","el","show","hide","focus","rehydrate","selector","closest","length","item_data","Array","isArray","k","rehydrateItem","createItem","items_el","item_el","clone","appendTo","disableInputs","renumber","container_el","replace","text","isDisabled","formElements","removeAttr","confirm","remove"],"mappings":"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","file":"admin.min.js","sourcesContent":["// contextual help\njQuery(function($){\n    var qs = {};\n    $.each(location.search.substr(1).split('&'), function(i,v){\n        var p = v.split('=');\n        qs[p[0]] = p[1];\n    });\n    if (qs.tab) {\n        $('.contextual-help-tabs li').removeClass('active');\n        $('#tab-link-' + qs.tab).addClass('active');\n    }\n    $('.nooz-help-link').on('click', function(e){\n        e.preventDefault();\n        $('#tab-link-' + $(this).data('helpTab') + ' a').trigger('click');\n        if ( $('#contextual-help-wrap').is(':hidden')) {\n            $('#contextual-help-link').trigger('click');\n        }\n    });\n});\n","/**\n * Release Intro meta box functionality\n */\n(function($){\n    var meta_box_el = $('#nooz-meta-box__release-dateline');\n    function showPreview(full) {\n        var location_val = $('.nooz-meta-box-field__input--location', meta_box_el).val();\n        if (!location_val) location_val = $('.nooz-meta-box-field__input--location', meta_box_el).attr('placeholder');\n        $('.nooz-dateline__location', meta_box_el).html(location_val);\n    }\n    showPreview();\n    meta_box_el.on('click', '.nooz-release__edit-location-link', function(e){\n        e.preventDefault();\n        var el = $('.nooz-meta-box-field-group-location', meta_box_el);\n        el.is(':hidden') ? el.show() : el.hide();\n        $('.nooz-meta-box-field__input--location', meta_box_el).focus();\n    });\n    meta_box_el.on('change keyup', '.nooz-meta-box-field__input--location', function(e) {\n        showPreview();\n    });\n})(jQuery);\n","/**\n * Repeating field functionality. Class names are only used in js.\n *\n * Class names used to facilitate functionality:\n *\n * mightydev-repeat // container\n *   mightydev-repeat__add // add link\n *   mightydev-repeat__items // items container\n *     mightydev-repeat__item // generated item from template\n *   mightydev-repeat__template // item template for duplication\n *     mightydev-repeat__item\n *       mightydev-repeat__remove // remove link\n *       mightydev-repeat__count // item count starting at 1\n *\n * @version 0.2.0\n */\n(function($){\n    function rehydrate(selector, data) {\n        var el = $(selector).closest('.mightydev-repeat');\n        if (!el.length) return;\n        var data = 'undefined' != typeof data ? data : el.data('repeat');\n        $.each(data, function(i, item_data){\n            rehydrateItem(createItem(el), item_data);\n        });\n    }\n    function rehydrateItem(selector, data) {\n        if ('undefined' == typeof data) return;\n        var el = $(selector);\n        if (Array.isArray(data)) {\n            $.each(data, function(k, v){\n                $('[name*=\"['+k+']\"]', el).val(v);\n            });\n        } else {\n            $('input, textarea', el).val(data);\n        }\n    }\n    function createItem(selector) {\n        var el = $(selector).closest('.mightydev-repeat');\n        var items_el = $('.mightydev-repeat__items', el);\n        var item_el = $('.mightydev-repeat__template .mightydev-repeat__item', el).clone().appendTo(items_el);\n        enableInputs(item_el);\n        el.trigger('create', [item_el]);\n        return item_el;\n    }\n    $('.mightydev-repeat').each(function(){\n        rehydrate(this);\n        $(this).trigger('ready');\n    });\n    function renumber(selector) {\n        if ('undefined' == typeof selector) return;\n        $(selector).each(function(){\n            var container_el = $(this).closest('.mightydev-repeat');\n            $('.mightydev-repeat__items > *', container_el).each(function(i, el){\n                $('[for]', this).each(function(){\n                    $(this).attr('for', $(this).attr('for').replace(/\\[\\d*\\]/i, '['+i+']'));\n                });\n                $('[name]', this).each(function(){\n                    $(this).attr('name', $(this).attr('name').replace(/\\[\\d*\\]/i, '['+i+']'));\n                });\n                $('[id]', this).each(function(){\n                    $(this).attr('id', $(this).attr('id').replace(/\\[\\d*\\]/i, '['+i+']'));\n                });\n                $('.mightydev-repeat__count', this).text(i+1);\n            });\n        });\n    }\n    function disableInputs(selector, isDisabled) {\n        if ('undefined' == typeof selector) return;\n        isDisabled = ('undefined' !== typeof isDisabled) ? isDisabled : true;\n        var formElements = 'input, textarea, select, button';\n        var elements = $(selector).is(formElements) ? $(selector) : $(formElements, selector);\n        elements.each(function(){\n            if (isDisabled) $(this).attr('disabled', true);\n            else $(this).removeAttr('disabled');\n        });\n    }\n    function enableInputs(selector) {\n        disableInputs(selector, false);\n    }\n    renumber('.mightydev-repeat');\n    disableInputs('.mightydev-repeat__template');\n    $('.mightydev-repeat__template').hide();\n    $('.mightydev-repeat').on('click', '.mightydev-repeat__add', function(e){\n        e.preventDefault();\n        createItem(this);\n        renumber(this);\n    });\n    $('.mightydev-repeat').on('click', '.mightydev-repeat__remove', function(e){\n        e.preventDefault();\n        // TODO this text line needs translation\n        if (confirm('This action can not be undone, are you sure?')) {\n            var container_el = $(this).closest('.mightydev-repeat');\n            $(this).closest('.mightydev-repeat__item').remove();\n            renumber(container_el);\n        }\n    });\n})(jQuery);\n"]}